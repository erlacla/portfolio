<!doctype html>
<html>

<head>
    <title>Week 4 Notes</title>

    <link rel="stylesheet" href="../styles.css" />
</head>

<body>

    <header>
        <h1>Week 2 Notes and Code</h1>
    </header>

    <main>
        <a href="/">Return to main menu</a>
        <br>
        <a href="ninja/events.html">Event Listener activity</a>
        <br>
        <a href="teamActivity.html">Team Activity</a>
        <br>
        <ul>
            <li>document.forms will return an HTML collection of all the forms on a page.</li>
            <li>form.elements will return an HTML collection of all the elements contained within a form.</li>
            <li>Object literals have properties which are key-value pairs separated by commas, encased in curly
                braces. They are similar to a JSON object only JSON objects have double quote marks and no
                functions.
            </li>
            <li>To create a new object literal do this: let variableName = {};</li>
            <li>The parse() method turns a JSON string into a javaScript object.</li>
            <li>The stringify() method turns a javaScript object into a JSON string. </li>
            <li>Node lists are like arrays but are not arrays.</li>
            <li>You can change a node list into an array with Array.from() method or with a spread operator :
                let a = [...document.images];
            </li>
            <li>Use document.querySelector(''); to grab the first css selector.</li>
            <li>Use document.querySelectorAll(''); to grab all references in the node list of elements.</li>
            <li>Example for class name: document.querySelector('.cups');</li>
            <li>Example for ID name: document.querySelector('#cups');</li>
            <li>Select last list item: document.querySelector('li:last-child');</li>
            <li>Select list with ID of cups: document.querySelector('ul#cups');</li>
            <li>To insert a new node use insertBefore() method. It needs two parameters: first - the new node,
                second - the node to go before.
            <li>There is no insertAfter method available at this time.</li>
            <li>To replace some text you can use: h1.replaceChild(newText, oldText);</li>
            <li>you can not use innerHTML to insert a script for security reasons.</li>
            <li>Node lists that are returned by the document.getElementByClassName and
                document.getElementByTagName methods are live collections.</li>
            <li>EventListeners allow multiple functions to be attached to separate events.</li>
            <li>Add an EventListener like this: document.body.addEventListener('click',doSomething);</li>
            </li>
            <li>QUESTION
                We can improve the usability of the form further by giving instant feedback, instead of waiting for the form to be submitted. This can be achieved by adding the event listener directly to the input field that will fire when the user presses a key (using the keyup event). The feedback can then be inserted inside the label element of the input field, along with a class of error for more direct feedback. Add the following code to main.js :

const label = form.querySelector('label');
const error = document.createElement('div');
error.classList.add('error');
error.textContent = '! Your name is not allowed to start with X.';
label.append(error);
function validateInline() {
    const heroName = this.value.toUpperCase();
    if(heroName.startsWith('X')){
    error.style.display = 'block';
    } else {
    error.style.display = 'none';
    }
}
For this technique to work, we actually add the error message to the HTML in the JavaScript file, 
regardless of whether the error has been made or not. This is done in the first five lines above, 
using the DOM to create a <div> element that contains the error message and has a class of 'error'. 
    Itâ€™s then added to the <label> element using the append() method. The trick here is that the element 
        will not be visible as it will start with a style declaration of display: none; . This will be 
        updated dynamically as the keyup event fires.
            </li>
        </ul>

        <h1>Mountains</h1>

        <div id="mountains"></div>

        <script>
            const MOUNTAINS = [
                { name: "Kilimanjaro", height: 5895, place: "Tanzania" },
                { name: "Everest", height: 8848, place: "Nepal" },
                { name: "Mount Fuji", height: 3776, place: "Japan" },
                { name: "Vaalserberg", height: 323, place: "Netherlands" },
                { name: "Denali", height: 6168, place: "United States" },
                { name: "Popocatepetl", height: 5465, place: "Mexico" },
                { name: "Mont Blanc", height: 4808, place: "Italy/France" }
            ];

            function buildTable(data) {
                let table = document.createElement("table");

                let fields = Object.keys(data[0]);
                let headRow = document.createElement("tr");
                fields.forEach(function (field) {
                    let headCell = document.createElement("th");
                    headCell.appendChild(document.createTextNode(field));
                    headRow.appendChild(headCell);
                });
                table.appendChild(headRow);

                data.forEach(function (object) {
                    let row = document.createElement("tr");
                    fields.forEach(function (field) {
                        let cell = document.createElement("td");
                        cell.appendChild(document.createTextNode(object[field]));
                        if (typeof object[field] == "number") {
                            cell.style.textAlign = "right";
                        }
                        row.appendChild(cell);
                    });
                    table.appendChild(row);
                });

                return table;
            }

            document.querySelector("#mountains")
                .appendChild(buildTable(MOUNTAINS));
        </script>
    </main>
</body>

</html>